<html><head><meta http-equiv="Keywords" content="LambdaNative, cross-platform development, gambit scheme, functional programming, mobile health, pediatric anesthesia research team, Android, iOS, OpenWrt, Blackberry 10, Phone Oximeter"></meta><meta http-equiv="Description" content="LambdaNative is a cross-platform development environment written in Scheme, supporting Android, iOS, BlackBerry 10, OS X, Windows, Linux, OpenBSD, NetBSD, FreeBSD and embedded systems"></meta><link href="https://fonts.googleapis.com/css?family=Tahoma" rel="stylesheet"></link><link href="css/bootstrap.min.css" rel="stylesheet"></link><link href="css/bootstrap-responsive.min.css" rel="stylesheet"></link><style>body {position: relative;padding-top: 0px;font-family: 'Ubuntu',Tahoma,sans-serif;}body a {color: #000082;}header {position: relative;color: #000;}header h1 {font-size: 58px !important;line-height: 58px !important;}.social-buttons {position: absolute;right: 20px;bottom: 4px;}section {padding: 40px 0 0 0;}.jumbotron {padding: 60px 0 16px 0;background-image: url('images/background.svg');background-size: cover;background-repeat: no-repeat;background-position: 0% 25%;}footer p {border-top: 1px solid #ddd;margin-top: 60px;padding-top: 8px;text-align: center;color: #aaa;}footer p a {color: #aaa;}</style><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/jquery.cycle2.js"></script><script type="text/javascript">$(document).ready(function() { $('.slideshow').cycle({ fx: 'fade' }); });</script><style type="text/css">#slideshow img{ display:none; } #slideshow .first{ display:block; }</style></head><body><div class="navbar navbar-fixed-top"><div class="navbar-inner"><div class="container"><a class="brand" href="#">LambdaNative</a><div class="nav-collapse collapse"><ul class="nav navbar"><li><a href="#apps">Applications</a></li><li><a href="#code1">Example #1</a></li><li><a href="#code2">Example #2</a></li><li><a href="#pubs">Publications</a></li><li><a href="https://github.com/part-cw/lambdanative/wiki">Documentation Wiki</a></li><li><a href="https://github.com/part-cw/lambdanative">Source Code</a></li></ul></div></div></div></div><header class="jumbotron subhead" id="overview"><div class="container"><h1><font color="#000080">Practical Functional Programming.</font></h1><h3><font color="#ffffff">It's never been easier to deploy high-quality code on mobile and embedded targets</font></h3><br><br><br><br></div><div class="social-buttons"><a href="https://twitter.com/LambdaNative" class="twitter-follow-button" data-size="large" data-show-count="false">Follow @LambdaNative</a><p></div></header><div class="container"><section id="top"><div class="row"><div class="span4"><h2><font color="#000080">Efficient.</font></h2><p>LambdaNative allows you to create high-quality code in the high-level functional language Scheme, dramatically shortening development time, and producing better code with fewer bugs.</p></div><div class="span4"><h2><font color="#000080">Cross-Platform.</font></h2><p>LambdaNative builds native applications on a wide range of platforms including iOS, Android, Blackberry, OS X, Linux, Windows, OpenBSD, NetBSD, FreeBSD and OpenWrt, from a single source code.</p></div><div class="span4"><h2><font color="#000080">Open Source.</font></h2><p>LambdaNative is freely available under the BSD license, extensively documented, and hosted on GitHub.</p><p><a class="btn" href="https://github.com/part-cw/lambdanative">GitHub Repository</a></p></div></div></section><br><br><br><div class="row"><div class="span8"><img src="images/graph.jpg"></div><div class="span4"><img src="images/ubc.jpg"></div></div><p>LambdaNative is developed and maintained by the <a href="https://bcchr.ca/PART">Pediatric Anesthesia Research Team (PART)</a> and the <a href="https://bcchr.ca/dhil">Digital Health Innovation Lab (DHIL)</a> at the University of British Columbia (UBC).</p><section id="apps"><p><h2 class="section"><font color="#000080">Example Applications</font></h2><p>LambdaNative is currently used for clinical trials of medical technology in more than 10 countries involving around 100,000 subjects in all.</p><div class="cycle-slideshow"><img src="images/splash1.jpg"><img src="images/splash2.jpg"><img src="images/splash7.jpg"><img src="images/splash3.jpg"><img src="images/splash4.jpg"><img src="images/splash8.jpg"><img src="images/splash5.jpg"><img src="images/splash6.jpg"><img src="images/splash9.jpg"><img src="images/splash10.jpg"><img src="images/splash11.jpg"></div></section><section id="code1"><p><h2 class="section"><font color="#000080">Cross-platform Calculator in 100 lines of Scheme</font></h2><div class="row"><div class="span8"><pre class="prettyprint lang-scm">
(define gui #f)
(define calculator-subdisplay #f)
(define calculator-display #f)
(define Ans #f)
(define Mem 0)

(define keypad `((
  ( (#\A "AC") (#\M "MC") #\C (,delchar ,glgui_keypad_delete.img) )
  ( (#\a "Ans") (#\m "Mem")  (#\p "M+") (#\q "M-") )
  ( #\( #\) (#\S ,sqrt.img) #\/ )
  ( #\7 #\8 #\9 #\* )
  ( #\4 #\5 #\6 #\- )
  ( #\1 #\2 #\3 #\+ )
  ( (#\0 "0" 2.)  #\. (#\= "=" 1. ,DarkOrange))
)))

(define (number->neatstring n)
  (if (not (##flonum? n)) (number->string n)
    (let* ((s (number->string (fl/ (flfloor (fl+ (fl* (flo n) 1.0e10) 0.5)) 1.0e10)))
           (sl (string-length s))
           (b (substring s 0 1))
           (e (substring s (- sl 1) sl)))
      (string-append (if (string=? b ".") "0" "")
         (if (string=? e ".") (substring s 0 (- sl 1)) s)))))

(define (calculator-updatesub)
  (glgui-widget-set! gui calculator-subdisplay 'label
    (string-append "Mem=" (number->neatstring Mem) " Ans=" (if Ans (number->neatstring Ans) "") " ")))

(define (calculator-evaluate)
  (let* ((e (glgui-widget-get gui calculator-display 'label))
         (evalstr (string-append "\\" e ";"))
         (res (with-input-from-string evalstr (lambda ()
           (with-exception-catcher (lambda (e) #f) (lambda () (eval (read))))))))
    (set! Ans res)
    (glgui-widget-set! gui calculator-display 'label (if Ans (number->neatstring Ans) ""))
    (glgui-widget-set! gui calculator-display 'bgcolor (if Ans #f Red))
    (calculator-updatesub)))

(define (calculator-C)  (glgui-widget-set! gui calculator-display 'label ""))
(define (calculator-AC) (calculator-C) (set! Ans #f) (set! Mem 0) (calculator-updatesub))
(define (calculator-MC) (set! Mem 0) (calculator-updatesub))
(define (calculator-M+) (if Ans (set! Mem (+ Mem Ans))) (calculator-updatesub))
(define (calculator-M-) (if Ans (set! Mem (- Mem Ans))) (calculator-updatesub))

(define (calculator-Mem)
  (let ((curstr (glgui-widget-get gui calculator-display 'label)))
    (glgui-widget-set! gui calculator-display 'label (string-append curstr "Mem"))))

(define (calculator-Ans)
  (let ((curstr (glgui-widget-get gui calculator-display 'label)))
    (glgui-widget-set! gui calculator-display 'label (string-append curstr "Ans"))))

(define (calculator-sqrt)
  (let ((curstr (glgui-widget-get gui calculator-display 'label)))
    (glgui-widget-set! gui calculator-display 'label (string-append curstr "sqrt("))))

(main
;; initialization
  (lambda (w h)
    (make-window 320 480)
    (glgui-orientation-set! GUI_PORTRAIT)
    (set! gui (make-glgui))
    (let* ((w (glgui-width-get))
           (h (glgui-height-get)))
      (set! calculator-subdisplay (glgui-label gui 0 (- h 20) w 20 "" calc_14.fnt White))
      (glgui-widget-set! gui calculator-subdisplay 'align GUI_ALIGNRIGHT)
      (set! calculator-display (glgui-label gui 5 (- h 80) (- w 10) 60 "" calc_32.fnt White))
      (glgui-widget-set! gui calculator-display 'align GUI_ALIGNRIGHT)
      (glgui-widget-set! gui calculator-display 'focus #t)
      (let ((wgt (glgui-keypad gui 5 5 (- w 10) (- h 80 5) calc_24.fnt keypad)))
        (glgui-widget-set! gui wgt 'rounded #f)
        (glgui-widget-set! gui wgt 'floatinghighlight #f))
      (calculator-updatesub)
    ))
;; events
  (lambda (t x y)
    (let ((skipevent #f))
      (if (= t EVENT_KEYRELEASE)
        (cond
          ((= x EVENT_KEYESCAPE)     (terminate))
          ((= x (char->integer #\=)) (calculator-evaluate) (set! skipevent #t))
          ((= x (char->integer #\A)) (calculator-AC) (set! skipevent #t))
          ((= x (char->integer #\C)) (calculator-C) (set! skipevent #t))
          ((= x (char->integer #\M)) (calculator-MC) (set! skipevent #t))
          ((= x (char->integer #\p)) (calculator-M+) (set! skipevent #t))
          ((= x (char->integer #\q)) (calculator-M-) (set! skipevent #t))
          ((= x (char->integer #\a)) (calculator-Ans) (set! skipevent #t))
          ((= x (char->integer #\m)) (calculator-Mem) (set! skipevent #t))
          ((= x (char->integer #\S)) (calculator-sqrt) (set! skipevent #t))
        ))
      (if (not skipevent) (glgui-event gui t x y))))
;; termination
  (lambda () #t)
;; suspend
  (lambda () (glgui-suspend))
;; resume
  (lambda () (glgui-resume))
)
</pre></div><div class="span4"><p>This example application is a complete cross-platform (iOS, Android etc.) calculator that supports rational numbers and complex arithmetic, all in 100 lines of code.</p><img src="images/calculator.png"></div></div></section><section id="code2"><p><h2 class="section"><font color="#000080">mHealth User Interface in 30 lines of S-expressions</font></h2><div class="row"><div class="span8"><pre class="prettyprint lang-scm">
(sleep-medsbefore-1
    "Medications"

    ("Back" ("Cancel this sleep?" ("Yes" ,(lambda ()
       (uiset 'database (uiget 'user-database))
       'sleep-menu)) ("No" #f)))
    ("Next" ,(lambda ()
       (if (dbget 'meds_before #f) 'sleep-24hactivity
          '("Please answer yes or no" ("OK" #f)))))

    (spacer)
    (label text "Has your child had any medications")
    (label text "in the 4 hours before going to bed?")
    (spacer)
    (radio id meds_before left ("Yes" 1 sleep-medsbefore-1) 
                          right ("No" 0 sleep-medsbefore-1))
    (spacer)
    ,(lambda ()
        (if (= (dbget 'meds_before 0) 0) '(spacer)
           '(label text "Which medication?")))
    (spacer)
    ,(lambda ()
        (if (= (dbget 'meds_before 0) 0) '(spacer)
          '(checklist id medications_before 
             default ("Ibuprofen" "Melatonin"))
        ))
    (spacer)
    ,(lambda ()
        (if (= (dbget 'meds_before 0) 0) '(spacer)
           '(button text "Other" action sleep-medsbefore-2)))
    (spacer)
)
</pre></div><div class="span4"><p>This example illustrates rapid development of cross-platform native mHealth applications with the LambdaNative LNHealth framework.</p><img width="90%" src="images/sleep.png"></div></div></section><section id="pubs"><p><h2 class="section"><font color="#000080">Publications</font></h2><p>Publications involving LambdaNative-based technology:</p><p>G&ouml;rges M, Petersen CL, Ansermino JM. Trusted Timestamps - A new (old) tool to ensure integrity and authenticity of research and clinical data. Society of Technology in Anesthesia (STA) 2016, Palm Beach, FL</p><p>Petersen CL, Katz Z, G&ouml;rges M, West N, Dumont GA, Ansermino JM. A Systematic Comparison of Depth of Hypnosis Indices during Intravenous and Volatile Anesthesia by Electroencephalogram Replay. Society of Technology in Anesthesia (STA) 2016, Palm Beach, FL</p><p>Petersen CL, Katz Z, G&ouml;rges M, West N, Dumont GA, Ansermino JM. Epochs of Clinically Relevant Disagreements in Depth of Hypnosis Monitors Observed by Replay of the Electroencephalogram. Society of Technology in Anesthesia (STA) 2016, Palm Beach, FL</p><p>Petersen CL, Mallinson M, Venn R, Dumont GA, Ansermino JM. Towards an Ultra-High Resolution Signal Converter for Electroencephalogram Monitoring. Society of Technology in Anesthesia (STA) 2016, Palm Beach, FL</p><p>Petersen CL, Katz Z, G&ouml;rges M, Dumont GA, Ansermino JM. Droplet-based Simulation of Photoplethysmogram Waveforms and Oxygen Saturation. Society of Technology in Anesthesia (STA) 2016, Palm Beach, FL</p><p>Petersen CL, Ansermino JM, Dumont GA. A Smartphone-based EEG Anesthesia Simulator. 6th NWAC World Anesthesia Convention, Vancouver, BC, April 29 - May 2 2015.</p><p>Petersen CL, G&ouml;rges M, Ansermino JM, Dumont GA. Simulating Dynamic Hypnotic Drug Effects with an EEG Anesthesia Simulator. 6th NWAC World Anesthesia Convention, Vancouver, BC, April 29 - May 2 2015.</p><p>Chen TP, Petersen CL, Ansermino JM, Dumont GA. Comparing the operating range of low-cost pulse oximeters. Society of Technology in Anesthesia (STA) 2015, Phoenix AZ.</p><p>Petersen CL, Ansermino JM, Dumont GA. Towards a Depth of Hypnosis EEG Simulator. Society of Technology in Anesthesia (STA) 2015, Phoenix AZ.</p><p>G&ouml;rges M, Petersen CL, Ansermino JM. lnHealth - A rapid medical software development platform using IoT communication standards for medical device interoperability. Society of Technology in Anesthesia (STA) 2015, Phoenix AZ.</p><p>Dunsmuir DT, Payne BA, Cloete G, Petersen CL, G&ouml;rges M, Lim J, von Dadelszen P, Dumont GA, Ansermino JM. Development of mHealth Applications for Pre-Eclampsia Triage. IEEE Journal of Biomedical and Health Informatics 11/2014; 18(6):1857.</p><p>Dustin D, Gan H, Chiu M, Petersen CL, Dumont GA, Ansermino JM. A Mobile Application for Measuring Respiratory Rate. Canadian Pediatric Anesthesia Society (CPAS) Meeting 2014, Montreal QC September 26-28, 2014.</p><p>Petersen CL. The Phone Oximeter. In Mobile Point-of-Care Monitors and Diagnostic Device Design, CRC Press, ISBN 9781466589292, September 2014.</p><p>Petersen CL, G&ouml;rges M, Ansermino JM, Dumont GA. A Scheme-Based Closed-Loop Anesthesia System. Proceedings of ILC 2014, Montreal Canada.</p><p>Petersen CL, Ansermino JM, Dumont GA. iSwirl: Self-Affine Visualization of PPG and ECG Waveforms. Society of Technology in Anesthesia (STA) 2014, Orlando FL.</p><p>Petersen CL, Gan H, G&ouml;rges M, Ansermino JM, Dumont GA. Comparison of Motion Artifact Response in Three Mobile Pulse Oximeters. Society of Technology in Anesthesia (STA) 2014, Orlando FL.</p><p>Umedaly A, West N, van Heusden K, G&ouml;rges M, Petersen CL, Dumont GA, Ansermino JM, Merchant RN. Robust closed-loop control of anesthesia in adults undergoing elective surgery. Society of Technology in Anesthesia (STA) 2014, Orlando FL.</p><p>Dunsmuir D, Karlen W, Gan H, Chiu M, Petersen CL, Dumont GA, Ansermino JM. The design of a respiratory rate mobile application. Society of Technology in Anesthesia (STA) 2014, Orlando FL.</p><p>G&ouml;rges M, Baxter P, Coelho T, Cooper B, Gagne J, Thomas P, Petersen CL, Dumont GA, Ansermino JM. The portable operating room tracker (telePORT) - Analysis of system usage and identification of areas for improvement. Society of Technology in Anesthesia (STA) 2014, Orlando FL</p><p>Petersen CL, Chen TP, Ansermino JM, Dumont GA. Design and Evaluation of a Low- Cost Smartphone Pulse Oximeter. Sensors 2013 13 16882</p><p>Petersen CL, Gan H, G&ouml;rges M, Dumont GA, Ansermino JM. Systematic Evaluation of Mobile Phone Pulse Oximetry Performance. Anesthesiology 2013, San Francisco, CA</p><p>G&ouml;rges M, van Heusden K, West N, Umedaly A, Petersen CL, Dumont GA, Ansermino JM, Merchant RN. Response to noxious stimuli in closed-loop controlled propofol anesthesia with target controlled infusion of remifentanil. International Society for Anaesthetic Pharmacology (ISAP) 2013</p><p><a href="http://ecem.ece.ubc.ca/~cpetersen/lambdanative_icfp13.pdf">Petersen CL, G&ouml;rges M, Dustin D, Ansermino JM, Dumont GA. Experience Report: Functional Programming of mHealth Applications. International Conference on Functional Programming (ICFP) 2013</a></p><p>Gan H, Petersen C, MacInnis JM, Dumont GA, Ansermino JM. Calibration and evaluation of a novel low cost pulse oximeter sensor. 2013 Annual Meeting of the Canadian Anesthesiologists Society. Calgary, Canada. Jun 21st - 24th.</p><p>Petersen CL, Gan H, MacInnis MJ, Dumont GA, Ansermino JM. Ultra-low-cost clinical pulse oximetry. Proc. of Annual International Conference of the IEEE Engineering in Medicine and Biology Society 2013 p. 2874-2877</p><p>Hudson J, Nguku SM, Sleiman J, Karlen W, Dumont GA, Petersen CL, Warriner CB, Ansermino JM. Usability testing of a prototype Phone Oximeter with healthcare providers in high- and low-medical resource environments. Anesthesia 2012 67 957</p><p>Petersen CL, Gan H, Ansermino JM, Dumont GA. Comparing a new ultra-low cost pulse oximeter with two commercial oximeters, IAMPOV International Symposium, Yale University, New Haven, June 29 - July 1st, 2012</p><p>Chandler JR, Cooke E, Petersen CL, Karlen W, Froese N, Lim J, Ansermino JM. Pulse oximeter plethysmograph variation and its relationship to the arterial waveform in mechanically ventilated children. J Clin Monit Comput. 2012 Mar 10. [Epub ahead of print]</p><p>van Heusden K, Dumont GA, Soltesz K, Petersen CL, West N, Ansermino JM. Clinical evaluation of closed-loop controlled propofol infusion in children. World Congress of Anesthesiologists, Buenos Aries, Argentina, March 25-30, 2012.</p><p>West N, Dumont GA, van Heusden K, Khosravi S, Petersen CL, Ansermino JM. The administration of closed-loop control of anesthesia for gastrointestinal endoscopic investigations in children. Society for Pediatric Anesthesia AAP Pediatric Anesthesiology Annual Meeting, Tampa, FL, USA, February 23-26, 2012.</p><p>Petersen CL, Ansermino JM, Dumont GA. Audio Pulse Oximeter. Society for Technology in Anesthesia 2012 Annual Meeting, Palm Beach, FL, USA, January 18-21, 2012.</p><p>Petersen CL, Ansermino JM, Dumont GA. High-speed algorithm for plethysmograph peak detection in real-time applications. Society for Technology in Anesthesia 2012 Annual Meeting, Palm Beach, FL, USA, January 18-21, 2012.</p><p>Van Heusden K, Dumont GA, Soltesz K, Petersen CL, West N, Ansermino JM. Robust PID control for closed-loop propofol infusion in children. Society for Technology in Anesthesia 2012 Annual Meeting, Palm Beach, FL, USA, January 18-21, 2012.</p><p>Dunsmuir D, Petersen CL, Karlen W, Lim J, Dumont GA, Ansermino JM. The Phone Oximeter for mobile spot-check. Society for Technology in Anesthesia 2012 Annual Meeting, Palm Beach, FL, USA, January 18-21, 2012.</p><p>G&ouml;rges M, Petersen CL, Ansermino JM. Capturing vital signs for research in a multi-bed monitoring environment. Proceedings of the 2011 Society for Technology in Anesthesia Annual Meeting p. A32.</p><p>Dumont G, Liu N, Petersen CL, Chazot T, Fischler M. Closed-Loop Administration of Propofol Guided by the NeuroSense: Clinical Evaluation Using Robust Proportional- Integral-Derivative Design. American Society of Anesthesiologists (ASA) Annual Meeting 2011.</p><p>Karlen W, Hudson J, Lim J, Petersen CL, Anand R, Dumont GA, Ansermino JM The Phone Oximeter. IEEE Engineering in Medicine and Biology Society Unconference, Boston, USA, August 30, 2011.</p><p>Karlen W, Dumont G, Petersen CL, Gow J, Lim J, Sleiman J, Ansermino JM. Human- centered Phone Oximeter interface design for the operating room. Proceedings of the International Conference on Health Informatics, Rome, Italy, 2011. p. 433.</p><p>Chandler JRS, Cooke E, Petersen CL, Froese N, Lim J, Amsermino JM. Arterial & oximeter wave relationship in ventilated children. Canadian Anesthesiologists Society 2010 Annual Meeting, Montreal, Canada, Jun 25-29, 2010.</p><p>Chandler JR, Cooke E, Petersen CL, Froese N, Lim J, Ansermino JM. Arterial and plethysmograph waveform relationship in children, 2 sides of the same coin? UBC Department of Anesthesiology, Pharmacology and Therapeutics Research Day, Vancouver, Canada, Jun 23, 2010.</p><p>Chandler JRS, Cooke E, Petersen CL, Froese N, Lim J, Ansermino JM. Are respiratory induced changes in pulse pressure and pulse oximeter plethysmograph wave amplitude related in ventilated children? International Anesthesia Research Society Annual Meeting; Honolulu, HI, USA, Mar 20-23, 2010.</p><p>Karlen W, Petersen CL, Pickard A, Dumont G, Ansermino JM. Capillary Refill Time Assessment Using a Mobile Phone Application (iRefill). ASA abstracts 2010.</p></section><footer><p>&copy; 2016 <a href="https://github.com/part-cw/lambdanative/graphs/contributors">LambdaNative Developers</a></p></footer></div><script src="js/bootstrap.js"></script><script src="http://platform.twitter.com/widgets.js" id="twitter-wjs"></script><script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=scm&amp"></script></body></html>
